document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("cta-whatsapp");e&&e.addEventListener("click",function(){gtag("event","contact_whatsapp",{event_category:"Conversion",event_label:"WhatsApp Floating Button",value:1})});const t=document.getElementById("exit-popup-whatsapp");t&&t.addEventListener("click",function(){gtag("event","contact_whatsapp",{event_category:"Conversion",event_label:"WhatsApp Exit Popup",value:1})});const n=document.getElementById("cta-llamar");n&&n.addEventListener("click",function(){gtag("event","contact_phone",{event_category:"Conversion",event_label:"Phone Floating Button",value:1})});const o=document.getElementById("exit-popup-phone");o&&o.addEventListener("click",function(){gtag("event","contact_phone",{event_category:"Conversion",event_label:"Phone Exit Popup",value:1})});document.querySelectorAll('a[href*="wa.me"]').forEach(function(e){(!e.id||"cta-whatsapp"!==e.id&&"exit-popup-whatsapp"!==e.id)&&e.addEventListener("click",function(){const e=this.textContent.trim().substring(0,50);gtag("event","contact_whatsapp",{event_category:"Conversion",event_label:"WhatsApp Link - "+e,value:1})})});document.querySelectorAll('a[href^="tel:"]').forEach(function(e){(!e.id||"cta-llamar"!==e.id&&"exit-popup-phone"!==e.id)&&e.addEventListener("click",function(){const e=this.textContent.trim().substring(0,50);gtag("event","contact_phone",{event_category:"Conversion",event_label:"Phone Link - "+e,value:1})})});document.querySelectorAll('a[href*="/servicios/"]').forEach(function(e){e.addEventListener("click",function(e){const t=this.getAttribute("href").split("/").filter(Boolean).pop();gtag("event","view_service",{event_category:"Engagement",event_label:t,value:0})})});document.querySelectorAll(".nav-link").forEach(function(e){e.addEventListener("click",function(){const e=this.textContent.trim();gtag("event","navigation_click",{event_category:"Navigation",event_label:e,value:0})})});const a=document.getElementById("exit-intent-popup");if(a){new MutationObserver(function(e){e.forEach(function(e){"none"!==e.target.style.display&&gtag("event","exit_popup_shown",{event_category:"Engagement",event_label:"Exit Intent Triggered",value:0})})}).observe(a,{attributes:!0,attributeFilter:["style"]})}let c={25:!1,50:!1,75:!1,100:!1};window.addEventListener("scroll",function(){const e=Math.round(window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100);Object.keys(c).forEach(function(t){e>=t&&!c[t]&&(c[t]=!0,gtag("event","scroll_depth",{event_category:"Engagement",event_label:t+"%",value:parseInt(t)}))})})});